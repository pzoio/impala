<?xml version="1.0"?>
<project name="Impala Launcher Build">
		
	<target 
		name="launcher:jar" 
		depends="project:clean, project:compile">
		<delete failonerror="false" file="${deploy.dir}/launcher.jar"/>
		<delete failonerror="false" file="${deploy.dir}/startjetty.jar"/>
			
		<jar destfile="${deploy.dir}/launcher.jar">
			<zipfileset dir="${bin.dir}" includes="Launcher*.class"/>
			<manifest>
				<attribute name="Main-Class" value="Launcher"/>				
			</manifest>
		</jar>
		<jar destfile="${deploy.dir}/startjetty.jar">
			<zipfileset dir="${bin.dir}" includes="StartJetty*.class"/>
			<manifest>
				<attribute name="Main-Class" value="StartJetty"/>				
			</manifest>
		</jar>
	</target>
	
	<target 
		name="launcher:repo">
		<copy todir="${repository.project.dir}">
			<fileset dir="${deploy.dir}" includes = "launcher.jar, startjetty.jar"/>
		</copy>
	</target>		
	
</project>