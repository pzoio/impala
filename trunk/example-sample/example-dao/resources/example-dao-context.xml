<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

    <bean class = "org.impalaframework.spring.service.exporter.ModuleContributionPostProcessor"/>
    
    <bean id="entryDAO"
        class="classes.EntryDAOImpl">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>
    
    <bean id="typedMessageService" 
        class="classes.MessageServiceImpl">
        <property name="message" value="Hi Phil - a typed message" />
    </bean>
    
    <bean id="namedMessageService" 
        class="classes.MessageServiceImpl">
        <property name="message" value="Hi Phil - a named message" />
    </bean>
    
    <bean id="typedMessageServiceExport"
    	class="org.impalaframework.spring.service.exporter.ServiceRegistryExporter">
    	<!-- the name of the bean to export -->
        <property name="beanName" value="typedMessageService" />
        <!-- export types to be used -->
        <property name="exportTypes" value="interfaces.MessageService,classes.MessageServiceImpl" />
    </bean>
    
    <bean id="namedMessageServiceExport"
    	class="org.impalaframework.spring.service.exporter.ServiceRegistryExporter">
    	<!-- the name of the bean to export -->
        <property name="beanName" value="namedMessageService" />
    	<!-- the export name to use in the service registry for named lookups --> 
        <property name="exportName" value="myNamedMessageService" />
    </bean>

</beans>
