<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">
 	
 <bean id="rootPluginLoader" class="org.impalaframework.module.web.WebClasspathModuleLoader">
	<constructor-arg ref="classLocationResolver"/>
 </bean>	
	
 <bean id="webRootPluginLoader" class="org.impalaframework.module.web.WebRootModuleLoader">
	<constructor-arg ref="classLocationResolver"/>
 </bean>	
	
 <bean id="servletPluginLoader" class="org.impalaframework.module.web.ServletModuleLoader">
	<constructor-arg ref="classLocationResolver"/>
 </bean>	
	
 <bean id="webPlaceholderPluginLoader" class="org.impalaframework.web.loader.WebPlaceholderDelegatingContextLoader"/>			
	
 <bean id="pluginLoaderRegistry" class="org.impalaframework.module.loader.ModuleLoaderRegistry">
	<property name = "pluginLoaders">
		<map>
			<entry key="root" value-ref="rootPluginLoader"/>
			<entry key="application" value-ref="applicationPluginLoader"/>
			<entry key="application_with_beansets" value-ref="applicationBeansetPluginLoader"/>
			<entry key="web_root" value-ref="webRootPluginLoader"/>
			<entry key="servlet" value-ref="servletPluginLoader"/>
		</map>
	</property>	
	<property name = "delegatingLoaders">
		<map>
			<entry key="web_placeholder" value-ref="webPlaceholderPluginLoader"/>
		</map>
	</property>  
 </bean>

</beans>